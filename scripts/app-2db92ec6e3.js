!function(){"use strict";angular.module("nowplaying",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ngRoute","ngMaterial","ngGeolocation"])}(),function(){"use strict";function t(){function t(){return n}var n=[{title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png"},{title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png"},{title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png"},{title:"Jasmine",url:"http://jasmine.github.io/",description:"Behavior-Driven JavaScript.",logo:"jasmine.png"},{title:"Karma",url:"http://karma-runner.github.io/",description:"Spectacular Test Runner for JavaScript.",logo:"karma.png"},{title:"Protractor",url:"https://github.com/angular/protractor",description:"End to end test framework for AngularJS applications built on top of WebDriverJS.",logo:"protractor.png"},{title:"Angular Material Design",url:"https://material.angularjs.org/#/",description:"The Angular reference implementation of the Google's Material Design specification.",logo:"angular-material.png"},{title:"Sass (Node)",url:"https://github.com/sass/node-sass",description:"Node.js binding to libsass, the C version of the popular stylesheet preprocessor, Sass.",logo:"node-sass.png"}];this.getTec=t}angular.module("nowplaying").service("webDevTec",t)}(),function(){"use strict";function t(){function t(t,n){function e(){n.postTweet(o.comment,o.url,o.local).then(function(){o.publishform.$setPristine(),o.comment="",o.url=""})}var o=this;o.publish=e}var n={restrict:"E",templateUrl:"app/components/sharebox/sharebox.html",controller:t,controllerAs:"vm",scope:{local:"="},bindToController:!0};return t.$inject=["$log","feedNowPlaying"],n}angular.module("nowplaying").directive("shareBox",t)}(),function(){"use strict";function t(){function t(){var t=this;t.cityName=t.cityName}var n={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{cityName:"="},controller:t,controllerAs:"vm",bindToController:!0};return n}angular.module("nowplaying").directive("acmeNavbar",t)}(),function(){"use strict";function t(t,n){function e(e){function a(t){return t.data}function i(n){t.error("XHR Failed for getContributors.\n"+angular.toJson(n.data,!0))}return e||(e=30),n.get(o+"/contributors?per_page="+e).then(a)["catch"](i)}var o="https://api.github.com/repos/Swiip/generator-gulp-angular",a={apiHost:o,getContributors:e};return a}angular.module("nowplaying").factory("githubContributor",t),t.$inject=["$log","$http"]}(),function(){"use strict";function t(t,n,e,o){function a(){function t(){u.resolve()}function e(t){u.reject(t)}return u=n.defer(),OAuth.initialize(o,{cache:!0}),s.authorizationResult=OAuth.create("twitter"),r().then(t,e),u.promise}function i(){OAuth.clearCache("twitter"),s.authorizationResult=!1}function r(){var e=n.defer();return OAuth.popup("twitter",{cache:!0}).done(function(t){s.authorizationResult=t,e.resolve()}).fail(function(n){t.error("Error connecting to Twitter\n"+n),e.reject(n)}),e.promise}function l(e,o,a){var i=n.defer();return s.authorizationResult.post("/1.1/statuses/update.json",{data:{status:"#nowplaying "+e+" "+o,lat:a.latitude,"long":a.longitude}}).done(function(t){i.resolve(t)}).fail(function(n){t.error("XHR Failed for update.\n"+angular.toJson(n,!0)),i.reject(n)}),i.promise}function c(e,o){var a=n.defer(),i="/1.1/search/tweets.json";return i+=e&&e.latitude&&e.longitude?"?q=%23nowPlaying+youtube&include_entities=true&result_type=recent&count=15&geocode="+e.latitude+","+e.longitude+",50km":"?q=%23nowPlaying+youtube&include_entities=true&result_type=recent&count=15",o&&(i+="&max_id="+o),s.authorizationResult.get(i).done(function(t){a.resolve(t)}).fail(function(n){t.error("XHR Failed for getFeed.\n"+angular.toJson(n,!0)),a.reject(n)}),a.promise}var u=null,s={initialize:a,getFeed:c,clearCache:i,postTweet:l};return s}angular.module("nowplaying").factory("feedNowPlaying",t),t.$inject=["$log","$q","$http","oAuthKey"]}(),function(){"use strict";function t(t,n,e,o){function a(){return l=n.defer(),o.getCurrentPosition({timeout:6e4}).then(function(t){t=t,i(t)},function(n){t.debug("Failed: "+n)}),l.promise}function i(n){function o(e){return angular.forEach(e.data.results[0].address_components,function(e){if(e.types[0]&&"administrative_area_level_1"===e.types[0]){t.debug(e.long_name);var o={locationName:e.long_name,latitude:n.coords.latitude,longitude:n.coords.longitude};l.resolve(o)}}),e.data}function a(n){t.error("XHR Failed for getLocation.\n"+angular.toJson(n.data,!0))}return e.get(r+"latlng="+n.coords.latitude+","+n.coords.longitude).then(o)["catch"](a)}var r="http://maps.googleapis.com/maps/api/geocode/json?sensor=true&",l=null,c={apiHost:r,getLocation:a};return c}angular.module("nowplaying").factory("cityLocator",t),t.$inject=["$log","$q","$http","$geolocation"]}(),function(){"use strict";function t(t,n,e,o,a){function i(){a.initialize().then(function(){o.getLocation().then(l,function(t){e.error(t),n.error("Error getting location!")})},function(t){e.error(t)})}function r(n){c.feed=n,c.feedLength=c.feed.statuses.length,t(function(){twttr.widgets.load()},300)}function l(t){c.locations.local||(c.locations.local=t),c.location=t,c.feed=null,a.getFeed(t).then(r,function(){n.error("Error getting feed!")})}var c=this;c.start=i,c.location=location,c.loadFeed=l,c.feedLength=0,c.youtube="youtube",c.locations={},c.locations.sf={locationName:"San Francisco",latitude:37.759246,longitude:-122.448595},c.locations.paris={locationName:"Paris",latitude:48.849738,longitude:2.356133},c.locations.global={locationName:"World wide",latitude:null,longitude:null}}angular.module("nowplaying").controller("MainController",t),t.$inject=["$timeout","$log","toastr","cityLocator","feedNowPlaying"]}(),function(){"use strict";function t(t,n,e){function o(){a.cityName=e.cityName}var a=this;o()}angular.module("nowplaying").controller("FeedController",t),t.$inject=["$log","toastr","$routeParams"]}(),function(){"use strict";function t(t){t.debug("index runBlock end")}angular.module("nowplaying").run(t),t.$inject=["$log"]}(),function(){"use strict";function t(t,n){t.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).when("/:cityName",{templateUrl:"app/feed/feed.html",controller:"FeedController",controllerAs:"feed"}).otherwise({redirectTo:"/"}),n.html5Mode(!0)}angular.module("nowplaying").config(t),t.$inject=["$routeProvider","$locationProvider"]}(),function(){"use strict";angular.module("nowplaying").constant("toastr",toastr).constant("OAuth",OAuth).constant("tUser","dev+biplaying@bunnyinc.com").constant("tUsername","BInowplaying").constant("tKey","gEFEbGdkVTDfzVgyiiCbzUImi").constant("oAuthKey","80l_rz7SK-Vx2N-D938yl2A3FOw").constant("moment",moment)}(),function(){"use strict";function t(t,n){t.debugEnabled(!0),n.options.timeOut=3e3,n.options.positionClass="toast-top-right",n.options.preventDuplicates=!0,n.options.progressBar=!0}angular.module("nowplaying").config(t),t.$inject=["$logProvider","toastr"]}(),angular.module("nowplaying").run(["$templateCache",function(t){t.put("app/feed/feed.html",'<header><acme-navbar city-name="feed.cityName"></acme-navbar></header><md-card><share-box></share-box></md-card><md-content layout-fill=""><div class="techs" layout-align="center"><md-card ng-repeat="awesomeThing in feed.awesomeThings | orderBy:\'rank\'"><div class="thumbnail"><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><div class="caption"><h3>{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p><p><a ng-href="{{ awesomeThing.url }}">{{ awesomeThing.url }}</a></p></div></div></md-card></div></md-content>'),t.put("app/main/main.html",'<header><acme-navbar city-name="main.location.locationName"></acme-navbar></header><md-content><section layout-align="center center" layout="row"><p flex="60" class="md-body-2">This page shows #nowplaying tweets around you that contain a youtube link. It also allows you to post a #nowplaying tweet with a YouTube link.</p><br></section><section layout-align="center center" layout="row"><md-card flex="70" ng-if="main.locations.local"><share-box local="main.locations.local" lat="main.locations.local.latitude" long="main.locations.local.longitud"></share-box></md-card></section><section layout-align="center center" layout="column"><md-button md-no-ink="" class="md-raised md-primary" ng-click="main.start()" ng-if="!main.locations.local">Get my location</md-button><md-content layout="row" ng-if="main.locations.local"><small><md-button md-no-ink="" class="md-primary" ng-click="main.loadFeed(main.locations.local)">{{main.locations.local.locationName}}</md-button><md-button md-no-ink="" class="md-primary" ng-click="main.loadFeed(main.locations.paris)">Paris</md-button><md-button md-no-ink="" class="md-primary" ng-click="main.loadFeed(main.locations.sf)">SF</md-button><md-button md-no-ink="" class="md-primary" ng-click="main.loadFeed(main.locations.global)">Global</md-button></small></md-content></section></md-content><md-content class="md-padding" layout="row" layout-align="center center" ng-if="main.feed" layout-wrap=""><div flex="60" layout-align="center" ng-repeat="t in main.feed.statuses | filter:youtube track by $index" class="tweet"><blockquote class="twitter-tweet" layout-align="center" lang="es"><p lang="es">{{t.text}}</p>â€” {{t.user.name}} ({{t.user.screen_name}}) <a href="http://twitter.com/{{t.user.screen_name}}/status/{{t.id_str}}">{{t.created_at}}</a></blockquote></div><md-content ng-if="main.feed && main.feedLength <= 0">No tweets found</md-content></md-content><div layout="row" layout-sm="column" layout-align="space-around" ng-if="!main.feed && main.locations.local"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div>'),t.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center"><md-button href="/">#nowplaying <span ng-if="vm.cityName">in {{vm.cityName}}</span></md-button></md-toolbar>'),t.put("app/components/sharebox/sharebox.html",'<div layout="column" ng-cloak="" class="layout layout-sm layout-sm-column"><form name="vm.publishform"><md-content layout-padding="" layout="row" layout-sm="column"><md-input-container flex=""><label>Video URL:</label> <input ng-model="vm.url" ng-required="true" ng-pattern="/watch\\?v=([a-zA-Z0-9\\-_]+)/"></md-input-container><md-input-container flex=""><label>Comment:</label> <input ng-model="vm.comment" type="text" ng-required="true"></md-input-container><md-input-container flex="20"><md-button class="md-raised animated infinite" ng-class="main.classAnimation" ng-click="vm.publish()">Tweet</md-button></md-input-container></md-content></form></div>')}]);